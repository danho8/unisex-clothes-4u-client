import React from "react";
import "./index.scss";
import ImageGallery from "react-image-gallery";
import { useDispatch } from "react-redux";
import { toggleZoomProduct } from "@/store/reducers/product.reducer";
import { setImgFocus } from "@/store/reducers/imgFocus.reducer";

const images = [
  {
    original: "https://picsum.photos/id/1018/1000/600/",
    thumbnail: "https://picsum.photos/id/1018/250/150/",
  },
  {
    original: "https://picsum.photos/id/1015/1000/600/",
    thumbnail: "https://picsum.photos/id/1015/250/150/",
  },
  {
    original: "https://picsum.photos/id/1019/1000/600/",
    thumbnail: "https://picsum.photos/id/1019/250/150/",
  },
  {
    original: "https://picsum.photos/id/1018/1000/600/",
    thumbnail: "https://picsum.photos/id/1018/250/150/",
  },
  {
    original: "https://picsum.photos/id/1015/1000/600/",
    thumbnail: "https://picsum.photos/id/1015/250/150/",
  },
  {
    original: "https://picsum.photos/id/1019/1000/600/",
    thumbnail: "https://picsum.photos/id/1019/250/150/",
  },
  {
    original: "https://picsum.photos/id/1018/1000/600/",
    thumbnail: "https://picsum.photos/id/1018/250/150/",
  },
  {
    original: "https://picsum.photos/id/1015/1000/600/",
    thumbnail: "https://picsum.photos/id/1015/250/150/",
  },
  {
    original: "https://picsum.photos/id/1019/1000/600/",
    thumbnail: "https://picsum.photos/id/1019/250/150/",
  },
  {
    original: "https://picsum.photos/id/1018/1000/600/",
    thumbnail: "https://picsum.photos/id/1018/250/150/",
  },
  {
    original: "https://picsum.photos/id/1015/1000/600/",
    thumbnail: "https://picsum.photos/id/1015/250/150/",
  },
  {
    original: "https://picsum.photos/id/1019/1000/600/",
    thumbnail: "https://picsum.photos/id/1019/250/150/",
  },
  {
    original: "https://picsum.photos/id/1018/1000/600/",
    thumbnail: "https://picsum.photos/id/1018/250/150/",
  },
  {
    original: "https://picsum.photos/id/1015/1000/600/",
    thumbnail: "https://picsum.photos/id/1015/250/150/",
  },
  {
    original: "https://picsum.photos/id/1019/1000/600/",
    thumbnail: "https://picsum.photos/id/1019/250/150/",
  },
];

interface Props {
  mainData?: any[];
}

function Gallery(props: Props) {
  const dispatch = useDispatch();

  const handleClickImage = () => {
    const newArr = props.mainData?.map((item: any, index: number) => {
      return {
        id: index + 1,
        url: item.original,
      };
    });
    dispatch(setImgFocus(newArr));
    dispatch(toggleZoomProduct());
  };

  return (
    <ImageGallery
      items={props.mainData ?? images}
      showPlayButton={false}
      showFullscreenButton={false}
      showNav={false}
      onClick={handleClickImage}
      renderThumbInner={(item: any) => (
        <img
          key={item}
          src={item.thumbnail}
          alt="thumbnail"
          className="thumbnail-img"
        />
      )}
    />
  );
}

export default Gallery;
